/* ==========================================
   JANSAHAYAK STYLES - Enhanced UI
   ========================================== */

/* ==========================================
   UNIFIED COLOR SYSTEM
   ========================================== */
:root {
    --primary: #135bec;
    --primary-dark: #0f4bc7;
    --primary-light: #3b7eff;
    --accent: #10b981;
    --accent-dark: #059669;

    /* Light theme text colors */
    --text-primary: #1e293b;
    --text-secondary: #475569;
    --text-muted: #64748b;

    /* Light theme backgrounds */
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-card: #ffffff;
    --border-color: #e2e8f0;
}

.dark {
    /* Dark theme text colors - HIGH CONTRAST */
    --text-primary: #f1f5f9;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;

    /* Dark theme backgrounds */
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-card: #1e293b;
    --border-color: #334155;
}

/* Apply consistent text colors */
body {
    color: var(--text-primary);
}

/* Base Styles */
* {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: 'Public Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
}

/* ==========================================
   THEME VISIBILITY FIXES - CRITICAL
   ========================================== */

/* Ensure text is ALWAYS visible in dark mode */
.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6 {
    color: #f1f5f9 !important;
}

.dark p,
.dark span,
.dark label {
    color: #e2e8f0;
}

.dark .text-slate-900 {
    color: #f1f5f9 !important;
}

.dark .text-slate-800 {
    color: #e2e8f0 !important;
}

.dark .text-slate-700 {
    color: #cbd5e1 !important;
}

.dark .text-slate-600 {
    color: #94a3b8 !important;
}

/* Ensure cards have visible text */
.dark .bg-white {
    background-color: #1e293b !important;
}

.dark .bg-white h3,
.dark .bg-white h4,
.dark .bg-white p,
.dark .bg-white span {
    color: #e2e8f0;
}

/* Fix input/select visibility in dark mode */
.dark input,
.dark select,
.dark textarea {
    background-color: #1e293b;
    color: #f1f5f9;
    border-color: #475569;
}

.dark input::placeholder,
.dark textarea::placeholder {
    color: #64748b;
}

.dark option {
    background-color: #1e293b;
    color: #f1f5f9;
}

/* Fix modal visibility */
.dark #schemeModal,
.dark #eligibilityModal,
.dark #aiChatModal {
    color: #e2e8f0;
}

/* Ensure buttons remain visible */
.dark .bg-primary {
    background-color: var(--primary) !important;
    color: #ffffff !important;
}

.dark .text-primary {
    color: var(--primary-light) !important;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

.dark ::-webkit-scrollbar-track {
    background: #1e293b;
}

.dark ::-webkit-scrollbar-thumb {
    background: #475569;
}

/* Selection */
::selection {
    background: rgba(19, 91, 236, 0.2);
    color: inherit;
}

/* Line clamp utilities */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Card hover effects */
.scheme-card,
[onclick*="openCategory"],
[onclick*="openSchemeModal"] {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.scheme-card:hover {
    transform: translateY(-3px);
}

/* State selector styling for hero */
#headerStateSelector option {
    background: #1e293b;
    color: white;
    padding: 12px;
}

#headerStateSelector option:hover {
    background: #334155;
}

/* Language dropdown */
#langDropdown {
    scrollbar-width: thin;
}

#langDropdown button {
    transition: background 0.15s ease;
}

/* Modal Animations */
#schemeModal,
#aiChatModal,
#eligibilityModal {
    transition: opacity 0.2s ease;
}

#schemeModal>div,
#aiChatModal>div,
#eligibilityModal>div {
    animation: modalSlide 0.25s ease;
}

@keyframes modalSlide {
    from {
        opacity: 0;
        transform: translateY(30px) scale(0.96);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Floating Button Animation */
.fixed.bottom-6.right-6 {
    animation: pulse 2s infinite;
}

@keyframes pulse {

    0%,
    100% {
        box-shadow: 0 4px 15px rgba(19, 91, 236, 0.4);
    }

    50% {
        box-shadow: 0 4px 25px rgba(19, 91, 236, 0.6);
    }
}

/* Chat Bubbles */
#chat-history .bg-gradient-to-br {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* AI response formatting */
.ai-response {
    white-space: pre-wrap;
}

.ai-response p {
    margin-bottom: 0.5rem;
}

.ai-response ul,
.ai-response ol {
    margin-left: 1rem;
    margin-bottom: 0.5rem;
}

.ai-response strong {
    font-weight: 600;
}

/* Chat Card Responses */
.scheme-card-response {
    font-size: 0.875rem;
    line-height: 1.6;
}

.scheme-card-response h3 {
    line-height: 1.4;
}

.scheme-card-response ul,
.scheme-card-response ol {
    padding-left: 0;
    list-style: none;
}

.scheme-card-response a {
    word-break: break-word;
}

/* Chat bubbles max width */
.user-bubble,
.ai-bubble {
    word-wrap: break-word;
    overflow-wrap: break-word;
}

/* Improve chat history scrolling */
#chat-history {
    scroll-behavior: smooth;
}

#chat-history::-webkit-scrollbar {
    width: 6px;
}

#chat-history::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
}

.dark #chat-history::-webkit-scrollbar-thumb {
    background: #475569;
}

/* Loading Spinner */
.animate-spin {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Bounce Animation for Typing Indicator */
.animate-bounce {
    animation: bounce 0.6s infinite alternate;
}

@keyframes bounce {
    from {
        transform: translateY(0);
    }

    to {
        transform: translateY(-5px);
    }
}

/* Category Color Classes - Enhanced */
.bg-blue-100 {
    background-color: #dbeafe;
}

.text-blue-600 {
    color: #2563eb;
}

.hover\:border-blue-300:hover {
    border-color: #93c5fd;
}

.bg-rose-100 {
    background-color: #ffe4e6;
}

.text-rose-600 {
    color: #e11d48;
}

.hover\:border-rose-300:hover {
    border-color: #fda4af;
}

.bg-emerald-100 {
    background-color: #d1fae5;
}

.text-emerald-600 {
    color: #059669;
}

.hover\:border-emerald-300:hover {
    border-color: #6ee7b7;
}

.bg-pink-100 {
    background-color: #fce7f3;
}

.text-pink-600 {
    color: #db2777;
}

.hover\:border-pink-300:hover {
    border-color: #f9a8d4;
}

.bg-purple-100 {
    background-color: #f3e8ff;
}

.text-purple-600 {
    color: #9333ea;
}

.hover\:border-purple-300:hover {
    border-color: #c4b5fd;
}

.bg-amber-100 {
    background-color: #fef3c7;
}

.text-amber-600 {
    color: #d97706;
}

.hover\:border-amber-300:hover {
    border-color: #fcd34d;
}

.bg-orange-100 {
    background-color: #ffedd5;
}

.text-orange-600 {
    color: #ea580c;
}

.hover\:border-orange-300:hover {
    border-color: #fdba74;
}

.bg-indigo-100 {
    background-color: #e0e7ff;
}

.text-indigo-600 {
    color: #4f46e5;
}

.hover\:border-indigo-300:hover {
    border-color: #a5b4fc;
}

.bg-teal-100 {
    background-color: #ccfbf1;
}

.text-teal-600 {
    color: #0d9488;
}

.hover\:border-teal-300:hover {
    border-color: #5eead4;
}

.bg-cyan-100 {
    background-color: #cffafe;
}

.text-cyan-600 {
    color: #0891b2;
}

.hover\:border-cyan-300:hover {
    border-color: #67e8f9;
}

.bg-violet-100 {
    background-color: #ede9fe;
}

.text-violet-600 {
    color: #7c3aed;
}

.hover\:border-violet-300:hover {
    border-color: #c4b5fd;
}

.bg-lime-100 {
    background-color: #ecfccb;
}

.text-lime-600 {
    color: #65a30d;
}

.hover\:border-lime-300:hover {
    border-color: #bef264;
}

.bg-red-100 {
    background-color: #fee2e2;
}

.text-red-600 {
    color: #dc2626;
}

.hover\:border-red-300:hover {
    border-color: #fca5a5;
}

.bg-sky-100 {
    background-color: #e0f2fe;
}

.text-sky-600 {
    color: #0284c7;
}

.hover\:border-sky-300:hover {
    border-color: #7dd3fc;
}

.bg-slate-100 {
    background-color: #f1f5f9;
}

.text-slate-600 {
    color: #475569;
}

/* Dark Mode Colors */
.dark .bg-blue-900\/30 {
    background-color: rgba(30, 58, 138, 0.3);
}

.dark .text-blue-400 {
    color: #60a5fa;
}

.dark .hover\:border-blue-700:hover {
    border-color: #1d4ed8;
}

.dark .bg-rose-900\/30 {
    background-color: rgba(136, 19, 55, 0.3);
}

.dark .text-rose-400 {
    color: #fb7185;
}

.dark .bg-emerald-900\/30 {
    background-color: rgba(6, 78, 59, 0.3);
}

.dark .text-emerald-400 {
    color: #34d399;
}

.dark .bg-pink-900\/30 {
    background-color: rgba(131, 24, 67, 0.3);
}

.dark .text-pink-400 {
    color: #f472b6;
}

.dark .bg-purple-900\/30 {
    background-color: rgba(88, 28, 135, 0.3);
}

.dark .text-purple-400 {
    color: #c084fc;
}

.dark .bg-amber-900\/30 {
    background-color: rgba(120, 53, 15, 0.3);
}

.dark .text-amber-400 {
    color: #fbbf24;
}

.dark .bg-orange-900\/30 {
    background-color: rgba(124, 45, 18, 0.3);
}

.dark .text-orange-400 {
    color: #fb923c;
}

.dark .bg-indigo-900\/30 {
    background-color: rgba(49, 46, 129, 0.3);
}

.dark .text-indigo-400 {
    color: #818cf8;
}

.dark .bg-teal-900\/30 {
    background-color: rgba(19, 78, 74, 0.3);
}

.dark .text-teal-400 {
    color: #2dd4bf;
}

.dark .bg-cyan-900\/30 {
    background-color: rgba(22, 78, 99, 0.3);
}

.dark .text-cyan-400 {
    color: #22d3ee;
}

.dark .bg-violet-900\/30 {
    background-color: rgba(76, 29, 149, 0.3);
}

.dark .text-violet-400 {
    color: #a78bfa;
}

.dark .bg-lime-900\/30 {
    background-color: rgba(54, 83, 20, 0.3);
}

.dark .text-lime-400 {
    color: #a3e635;
}

.dark .bg-red-900\/30 {
    background-color: rgba(127, 29, 29, 0.3);
}

.dark .text-red-400 {
    color: #f87171;
}

.dark .bg-sky-900\/30 {
    background-color: rgba(12, 74, 110, 0.3);
}

.dark .text-sky-400 {
    color: #38bdf8;
}

.dark .bg-slate-700 {
    background-color: #334155;
}

.dark .text-slate-400 {
    color: #94a3b8;
}

/* Modal Section Backgrounds */
.bg-blue-50 {
    background-color: #eff6ff;
}

.bg-green-50 {
    background-color: #f0fdf4;
}

.bg-purple-50 {
    background-color: #faf5ff;
}

.bg-amber-50 {
    background-color: #fffbeb;
}

.bg-rose-50 {
    background-color: #fff1f2;
}

.dark .bg-blue-900\/20 {
    background-color: rgba(30, 58, 138, 0.2);
}

.dark .bg-green-900\/20 {
    background-color: rgba(20, 83, 45, 0.2);
}

.dark .bg-purple-900\/20 {
    background-color: rgba(88, 28, 135, 0.2);
}

.dark .bg-amber-900\/20 {
    background-color: rgba(120, 53, 15, 0.2);
}

.dark .bg-rose-900\/20 {
    background-color: rgba(136, 19, 55, 0.2);
}

/* Improved Form Inputs */
input:focus,
select:focus,
textarea:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(19, 91, 236, 0.15);
    border-color: #135bec;
}

/* Select dropdown arrow */
select {
    cursor: pointer;
}

/* Button improvements */
button {
    cursor: pointer;
}

button:active {
    transform: scale(0.98);
}

/* Category card hover tooltip */
[onclick*="openCategory"]::after {
    opacity: 0;
    transition: opacity 0.2s ease;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .text-3xl {
        font-size: 1.75rem;
    }

    .text-4xl {
        font-size: 2rem;
    }

    .grid-cols-3 {
        grid-template-columns: repeat(2, 1fr);
    }

    .grid-cols-4 {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Mobile nav hidden */
    .hidden.md\:flex {
        display: none;
    }
}

@media (max-width: 480px) {
    .grid-cols-2 {
        grid-template-columns: 1fr;
    }

    #schemeModal>div,
    #eligibilityModal>div {
        max-height: 95vh;
        border-radius: 20px;
    }
}

/* Print Styles */
@media print {

    .fixed,
    header,
    footer,
    button:not([onclick*="print"]) {
        display: none !important;
    }

    body {
        background: white;
    }
}

/* RTL Support for Urdu */
[dir="rtl"] {
    text-align: right;
}

[dir="rtl"] .material-symbols-outlined {
    transform: scaleX(-1);
}

[dir="rtl"] .gap-2 {
    flex-direction: row-reverse;
}

/* Backdrop blur fallback */
@supports not (backdrop-filter: blur(8px)) {
    .backdrop-blur-sm {
        background: rgba(0, 0, 0, 0.8);
    }
}

/* ==========================================
   ADDITIONAL DARK MODE FIXES
   ========================================== */

/* Hero Section - ensure text visible on gradient */
.dark .bg-gradient-to-br {
    color: #ffffff;
}

/* AI Chat specific fixes */
.dark .ai-bubble {
    background-color: #1e293b !important;
    border-color: #334155 !important;
}

.dark .ai-bubble p,
.dark .ai-bubble span,
.dark .ai-bubble strong {
    color: #e2e8f0 !important;
}

.dark .ai-response {
    color: #e2e8f0 !important;
}

.dark .user-bubble {
    color: #ffffff !important;
}

/* Chat input area */
.dark #chatInput {
    background-color: #1e293b !important;
    color: #f1f5f9 !important;
    border-color: #475569 !important;
}

/* Eligibility form fixes */
.dark #eligibilityModal input,
.dark #eligibilityModal select {
    background-color: #0f172a !important;
    color: #f1f5f9 !important;
}

/* Scheme cards in dark mode */
.dark [onclick*="openCategory"],
.dark [onclick*="openSchemeModal"] {
    background-color: #1e293b !important;
    border-color: #334155 !important;
}

.dark [onclick*="openCategory"] h3,
.dark [onclick*="openCategory"] h4,
.dark [onclick*="openSchemeModal"] h3,
.dark [onclick*="openSchemeModal"] h4 {
    color: #f1f5f9 !important;
}

.dark [onclick*="openCategory"] p,
.dark [onclick*="openSchemeModal"] p {
    color: #94a3b8 !important;
}

/* Navbar in dark mode */
.dark nav a,
.dark nav button {
    color: #e2e8f0;
}

.dark nav a:hover,
.dark nav button:hover {
    color: #ffffff;
}

/* Language dropdown dark mode */
.dark #langDropdown {
    background-color: #1e293b !important;
    border-color: #334155 !important;
}

.dark #langDropdown button {
    color: #e2e8f0 !important;
}

.dark #langDropdown button:hover {
    background-color: #334155 !important;
}

/* Fix stat cards on hero */
.dark .bg-white\/90 {
    background-color: rgba(30, 41, 59, 0.95) !important;
}

/* Scheme modal content */
.dark #schemeModal h2,
.dark #schemeModal h3,
.dark #schemeModal h4 {
    color: #f1f5f9 !important;
}

.dark #schemeModal p,
.dark #schemeModal li {
    color: #cbd5e1 !important;
}

/* Loading skeleton visibility */
.dark .animate-pulse>div {
    background-color: #334155 !important;
}

/* ==========================================
   COMPACT CHAT UI STYLES
   ========================================== */

/* Tighter chat message spacing */
.chat-message {
    margin-bottom: 0.5rem !important;
}

.chat-message:last-child {
    margin-bottom: 0 !important;
}

/* Compact AI response cards */
.ai-response {
    line-height: 1.4 !important;
}

.ai-response p {
    margin: 0 0 0.25rem 0 !important;
}

.ai-response div {
    margin-bottom: 0.375rem !important;
}

/* Reduce space-y in chat responses */
.ai-response .space-y-2>*+* {
    margin-top: 0.375rem !important;
}

.ai-response .space-y-3>*+* {
    margin-top: 0.5rem !important;
}

/* Compact bullet lists in chat */
.ai-response ul,
.ai-response ol {
    padding-left: 0 !important;
    margin: 0.25rem 0 !important;
}

/* Smaller badges in chat */
.ai-response span[class*="bg-"] {
    font-size: 0.65rem !important;
    padding: 0.125rem 0.375rem !important;
}

/* Chat input optimization */
#chatInput {
    font-size: 14px !important;
}

/* Tighter card padding in chat */
.ai-response [class*="p-2"],
.ai-response [class*="p-3"] {
    padding: 0.375rem !important;
}

/* Ensure chat scroll works */
#chat-history {
    scroll-behavior: smooth;
}